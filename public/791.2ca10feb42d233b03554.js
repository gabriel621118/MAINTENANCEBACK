"use strict";(self.webpackChunkgemis=self.webpackChunkgemis||[]).push([[791],{8458:(v,p,i)=>{i.d(p,{O:()=>M});var n=i(665),t=i(7716),c=i(3635),d=i(4330),a=i(3947),l=i(3319),o=i(5772),s=i(6646),g=i(7804),E=i(697),h=i(8583);function q(u,_){1&u&&(t.TgZ(0,"small",22),t._uU(1," Ingrese Descripcion por lo menos de 5 Letras "),t.qZA())}function Z(u,_){1&u&&(t.TgZ(0,"small",22),t._uU(1," Ingrese Descripcion por lo menos de 5 Letras "),t.qZA())}function T(u,_){1&u&&(t.TgZ(0,"small",22),t._uU(1," Ingrese la criticidad como numero "),t.qZA())}function A(u,_){if(1&u&&(t.TgZ(0,"option",14),t._uU(1),t.qZA()),2&u){const e=_.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij("",e.descripcion," ")}}function O(u,_){if(1&u&&(t.TgZ(0,"option",14),t._uU(1),t.qZA()),2&u){const e=_.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij("",e.descripcion," ")}}function f(u,_){if(1&u&&(t.TgZ(0,"option",14),t._uU(1),t.qZA()),2&u){const e=_.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij("",e.descripcion," ")}}function D(u,_){if(1&u&&(t.TgZ(0,"option",14),t._uU(1),t.qZA()),2&u){const e=_.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij("",e.descripcion," ")}}let M=(()=>{class u{constructor(e,r,m,U,C,b,P,L,I,N){this.activeModal=e,this.fm=r,this.router=m,this.conexion=U,this.conexion2=C,this.conexion3=b,this.conexion4=P,this.servicedivisiones=L,this.conexion5=I,this.modalService=N,this.Lineas=[],this.Categorias=[],this.Divisiones=[],this.Departamentos=[],this.Ubicaciones=[],this.EquiposFormGroup=this.fm.group({id:[null],descripcion:[null,[n.kI.required]],tag:[null,[n.kI.required]],criticidad:[null,[n.kI.required]],selectcatego:[null],selectdepa:[null],selectubi:[null],selectdivision:[null]})}ngOnInit(){console.log("aqui debe aparecer el Equipo",this.Equipo),this.editarEquipo(this.Equipo),console.log("este es el id del equipo",this.Equipo.id),this.Lista_Ubicaciones(),this.Lista_Departamentos(),this.Lista_Categorias(),this.Lista_Divisiones()}editarEquipo(e){console.log("Aui hay uun errror",e.id),this.EquiposFormGroup.controls.id.setValue(e.id),this.EquiposFormGroup.controls.descripcion.setValue(this.Equipo.eq_descripcion),this.EquiposFormGroup.controls.tag.setValue(this.Equipo.eq_tag),this.EquiposFormGroup.controls.criticidad.setValue(this.Equipo.eq_criticidad),this.EquiposFormGroup.controls.selectcatego.setValue(this.Equipo.categoriaId),this.EquiposFormGroup.controls.selectdepa.setValue(this.Equipo.departamentoId),this.EquiposFormGroup.controls.selectubi.setValue(this.Equipo.ubicacioneId),this.EquiposFormGroup.controls.selectdivision.setValue(this.Equipo.divisioneId)}get descripNoValido(){var e,r;return(null===(e=this.EquiposFormGroup.get("descripcion"))||void 0===e?void 0:e.invalid)&&(null===(r=this.EquiposFormGroup.get("descripcion"))||void 0===r?void 0:r.touched)}get tagNoValido(){var e,r;return(null===(e=this.EquiposFormGroup.get("tag"))||void 0===e?void 0:e.invalid)&&(null===(r=this.EquiposFormGroup.get("tag"))||void 0===r?void 0:r.touched)}cambiarEquipo(){if(this.EquiposFormGroup.invalid)return Object.values(this.EquiposFormGroup.controls).forEach(e=>{e instanceof n.cw?Object.values(e.controls).forEach(r=>r.markAsTouched()):e.markAsTouched()});this.conexion.Actualiza_Equipos(this.EquiposFormGroup.value).subscribe(e=>{e.ok&&(console.log("cambiado"),this.activeModal.close()),this.EquiposFormGroup.reset()})}Lista_Ubicaciones(){this.conexion5.Obtener_Ubicaciones().subscribe(e=>{this.Ubicaciones=e.data,console.log("esta es el array",e)})}Lista_Categorias(){this.conexion3.Obtener_Categorias().subscribe(e=>{this.Categorias=e.data,console.log("esta es el array",e)})}Lista_Divisiones(){this.servicedivisiones.Obtener_Divisiones().subscribe(e=>{this.Divisiones=e.data,console.log("esta es el array",e)})}Lista_Departamentos(){this.conexion4.Obtener_Departamentos().subscribe(e=>{this.Departamentos=e.data,console.log("esta es el array",e)})}}return u.\u0275fac=function(e){return new(e||u)(t.Y36(c.Kz),t.Y36(n.qu),t.Y36(d.gz),t.Y36(a.u),t.Y36(l.X),t.Y36(o.g),t.Y36(s.r),t.Y36(g.n),t.Y36(E.k),t.Y36(c.FF))},u.\u0275cmp=t.Xpm({type:u,selectors:[["app-update-equipos-modal"]],inputs:{Equipo:"Equipo"},decls:69,vars:18,consts:[[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"form-group","row"],[1,"col-2","col-form-label"],[1,"col-8"],["type","tex","placeholder","Descripcion","formControlName","descripcion",1,"form-control"],["class","text-danger",4,"ngIf"],["type","tex","placeholder","Tag","formControlName","tag",1,"form-control"],["type","number","placeholder","Criticidad","formControlName","criticidad",1,"form-control"],["formControlName","selectcatego","Class","select-css"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["formControlName","selectdivision","Class","select-css"],["formControlName","selectdepa","Class","select-css"],["formControlName","selectubi","Class","select-css"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"click"],[1,"text-danger"]],template:function(e,r){1&e&&(t.TgZ(0,"p"),t._uU(1,"update-equipos-modal works!"),t.qZA(),t.TgZ(2,"div",0),t.TgZ(3,"h5",1),t._uU(4,"Actualizar Equipos"),t.qZA(),t.TgZ(5,"button",2),t.NdJ("click",function(){return r.activeModal.dismiss()}),t.TgZ(6,"span",3),t._uU(7,"\xd7"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"div",4),t.TgZ(9,"form",5),t.NdJ("ngSubmit",function(){return r.cambiarEquipo()}),t.TgZ(10,"div"),t.TgZ(11,"div",6),t.TgZ(12,"label",7),t._uU(13,"Descripcion"),t.qZA(),t.TgZ(14,"div",8),t._UZ(15,"input",9),t.YNc(16,q,2,0,"small",10),t.qZA(),t.qZA(),t._UZ(17,"p"),t.TgZ(18,"div",6),t.TgZ(19,"label",7),t._uU(20,"Tag"),t.qZA(),t.TgZ(21,"div",8),t._UZ(22,"input",11),t.YNc(23,Z,2,0,"small",10),t.qZA(),t.qZA(),t._UZ(24,"p"),t.TgZ(25,"div",6),t.TgZ(26,"label",7),t._uU(27,"Criticidad"),t.qZA(),t.TgZ(28,"div",8),t._UZ(29,"input",12),t.YNc(30,T,2,0,"small",10),t.qZA(),t.qZA(),t.TgZ(31,"div",6),t.TgZ(32,"label",7),t._uU(33,"Categoria"),t.qZA(),t.TgZ(34,"div",8),t.TgZ(35,"select",13),t.TgZ(36,"option",14),t._uU(37,"Escoge una Opcion"),t.qZA(),t.YNc(38,A,2,2,"option",15),t.qZA(),t.qZA(),t.qZA(),t.TgZ(39,"div",6),t.TgZ(40,"label",7),t._uU(41,"Division"),t.qZA(),t.TgZ(42,"div",8),t.TgZ(43,"select",16),t.TgZ(44,"option",14),t._uU(45,"Escoge una Opcion"),t.qZA(),t.YNc(46,O,2,2,"option",15),t.qZA(),t.qZA(),t.qZA(),t.TgZ(47,"div",6),t.TgZ(48,"label",7),t._uU(49,"Departamento"),t.qZA(),t.TgZ(50,"div",8),t.TgZ(51,"select",17),t.TgZ(52,"option",14),t._uU(53,"Escoge una Opcion"),t.qZA(),t.YNc(54,f,2,2,"option",15),t.qZA(),t.qZA(),t.qZA(),t.TgZ(55,"div",6),t.TgZ(56,"label",7),t._uU(57,"Ubicacion Tecnica"),t.qZA(),t.TgZ(58,"div",8),t.TgZ(59,"select",18),t.TgZ(60,"option",14),t._uU(61,"Escoge una Opcion"),t.qZA(),t.YNc(62,D,2,2,"option",15),t.qZA(),t.qZA(),t.qZA(),t._UZ(63,"p"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(64,"div",19),t.TgZ(65,"button",20),t.NdJ("click",function(){return r.activeModal.dismiss()}),t._uU(66,"Close"),t.qZA(),t.TgZ(67,"button",21),t.NdJ("click",function(){return r.cambiarEquipo()}),t._uU(68,"Save changes"),t.qZA(),t.qZA()),2&e&&(t.xp6(9),t.Q6J("formGroup",r.EquiposFormGroup),t.xp6(6),t.ekj("is-invalid",r.descripNoValido),t.xp6(1),t.Q6J("ngIf",r.descripNoValido),t.xp6(6),t.ekj("is-invalid",r.tagNoValido),t.xp6(1),t.Q6J("ngIf",r.tagNoValido),t.xp6(6),t.ekj("is-invalid",r.tagNoValido),t.xp6(1),t.Q6J("ngIf",r.tagNoValido),t.xp6(6),t.Q6J("value",0),t.xp6(2),t.Q6J("ngForOf",r.Categorias),t.xp6(6),t.Q6J("value",0),t.xp6(2),t.Q6J("ngForOf",r.Divisiones),t.xp6(6),t.Q6J("value",0),t.xp6(2),t.Q6J("ngForOf",r.Departamentos),t.xp6(6),t.Q6J("value",0),t.xp6(2),t.Q6J("ngForOf",r.Ubicaciones))},directives:[n._Y,n.JL,n.sg,n.Fj,n.JJ,n.u,h.O5,n.wV,n.EJ,n.YN,n.Kr,h.sg],styles:[""]}),u})()},7490:(v,p,i)=>{i.d(p,{N:()=>a});var n=i(8239),t=i(2340),c=i(7716),d=i(1841);let a=(()=>{class l{constructor(s){this.http=s,this.rutaserver=t.N.url_serve}Obtener_Articulos(){return this.http.get(`${this.rutaserver}/articulos`)}ObtenerArticulosPromise(){var s=this;return(0,n.Z)(function*(){return(yield s.http.get(`${s.rutaserver}/articulos`).toPromise()).data})()}Grabar_Articulos(s){return this.http.post(`${this.rutaserver}/articulos`,s)}}return l.\u0275fac=function(s){return new(s||l)(c.LFG(d.eN))},l.\u0275prov=c.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()},5772:(v,p,i)=>{i.d(p,{g:()=>d});var n=i(2340),t=i(7716),c=i(1841);let d=(()=>{class a{constructor(o){this.http=o,this.rutaserver=n.N.url_serve}Obtener_Categorias(){return this.http.get(`${this.rutaserver}/categorias`)}Grabar_Categorias(o){return this.http.post(`${this.rutaserver}/categorias`,o)}Actualiza_Categorias(o){return this.http.put(`${this.rutaserver}/categorias/${o.id}`,o)}}return a.\u0275fac=function(o){return new(o||a)(t.LFG(c.eN))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()},7804:(v,p,i)=>{i.d(p,{n:()=>d});var n=i(2340),t=i(7716),c=i(1841);let d=(()=>{class a{constructor(o){this.http=o,this.rutaserver=n.N.url_serve}Obtener_Divisiones(){return this.http.get(`${this.rutaserver}/obtener_divisiones`)}Grabar_Divisiones(o){return this.http.post(`${this.rutaserver}/agregar_division`,o)}Actualiza_Divisiones(o){return this.http.put(`${this.rutaserver}/update_divisiones/${o.id}`,o)}}return a.\u0275fac=function(o){return new(o||a)(t.LFG(c.eN))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()},3947:(v,p,i)=>{i.d(p,{u:()=>a});var n=i(8239),t=i(2340),c=i(7716),d=i(1841);let a=(()=>{class l{constructor(s){this.http=s,this.rutaserver=t.N.url_serve}Obtener_Equipos(){return this.http.get(`${this.rutaserver}/equipos`)}ObtenerEquiposPromise(){var s=this;return(0,n.Z)(function*(){return(yield s.http.get(`${s.rutaserver}/equipos`).toPromise()).data})()}Obtener_Equipoxubi(s){return this.http.get(`${this.rutaserver}/equiposxubicacion/${s}`)}Obtener_Equipoxcatego(s){return this.http.get(`${this.rutaserver}/equiposxcategoria/${s}`)}Obtener_Equipoxlinea(s){return this.http.get(`${this.rutaserver}/equiposxlinea/${s}`)}Obtener_Equipoxdivision(s){return this.http.get(`${this.rutaserver}/equiposxdivision/${s}`)}Grabar_Equipos(s){return this.http.post(`${this.rutaserver}/equipos`,s)}Actualiza_Equipos(s){return this.http.put(`${this.rutaserver}/equipos/${s.id}`,s)}}return l.\u0275fac=function(s){return new(s||l)(c.LFG(d.eN))},l.\u0275prov=c.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()},3319:(v,p,i)=>{i.d(p,{X:()=>d});var n=i(2340),t=i(7716),c=i(1841);let d=(()=>{class a{constructor(o){this.http=o,this.rutaserver=n.N.url_serve}Obtener_Lineas(){return this.http.get(`${this.rutaserver}/lineas`)}Grabar_Lineas(o){return this.http.post(`${this.rutaserver}/lineas`,o)}Actualiza_Lineas(o){return this.http.put(`${this.rutaserver}/lineas/${o.id}`,o)}}return a.\u0275fac=function(o){return new(o||a)(t.LFG(c.eN))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()}}]);